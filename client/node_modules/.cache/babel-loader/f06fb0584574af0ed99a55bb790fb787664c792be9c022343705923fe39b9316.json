{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api/auth';// פונקציה להרשמת משתמש חדש\nexport const signup=async userData=>{try{const response=await axios.post(\"\".concat(API_URL,\"/signup\"),userData);// שולח גם את userType\nreturn response.data;}catch(error){throw error.response?error.response.data:error.message;}};// פונקציה להתחברות משתמש קיים\nexport const login=async userData=>{try{const response=await axios.post(\"\".concat(API_URL,\"/login\"),userData);if(response.data.token){localStorage.setItem('user',JSON.stringify(response.data));}return response.data;}catch(error){throw error.response?error.response.data:error.message;}};// פונקציה לבדוק אם המשתמש מחובר\nexport const getCurrentUser=()=>{return JSON.parse(localStorage.getItem('user'));};// פונקציה להתנתקות\nexport const logout=()=>{localStorage.removeItem('user');};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","signup","userData","response","post","concat","data","error","message","login","token","localStorage","setItem","JSON","stringify","getCurrentUser","parse","getItem","logout","removeItem"],"sources":["C:/Users/hadar/OneDrive/שולחן העבודה/לימודים/MelodyLink/melody-link/client/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api/auth';\r\n\r\n// פונקציה להרשמת משתמש חדש\r\nexport const signup = async (userData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/signup`, userData); // שולח גם את userType\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error.response ? error.response.data : error.message;\r\n  }\r\n};\r\n\r\n\r\n// פונקציה להתחברות משתמש קיים\r\nexport const login = async (userData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/login`, userData);\r\n    if (response.data.token) {\r\n      localStorage.setItem('user', JSON.stringify(response.data));\r\n    }\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error.response ? error.response.data : error.message;\r\n  }\r\n};\r\n\r\n// פונקציה לבדוק אם המשתמש מחובר\r\nexport const getCurrentUser = () => {\r\n  return JSON.parse(localStorage.getItem('user'));\r\n};\r\n\r\n// פונקציה להתנתקות\r\nexport const logout = () => {\r\n  localStorage.removeItem('user');\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,gCAAgC,CAEjF;AACA,MAAO,MAAM,CAAAC,MAAM,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACxC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,OAAO,YAAWK,QAAQ,CAAC,CAAE;AAClE,MAAO,CAAAC,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CAACJ,QAAQ,CAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAAGC,KAAK,CAACC,OAAO,CAC5D,CACF,CAAC,CAGD;AACA,MAAO,MAAM,CAAAC,KAAK,CAAG,KAAO,CAAAP,QAAQ,EAAK,CACvC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,OAAO,WAAUK,QAAQ,CAAC,CAC/D,GAAIC,QAAQ,CAACG,IAAI,CAACI,KAAK,CAAE,CACvBC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACX,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC7D,CACA,MAAO,CAAAH,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CAACJ,QAAQ,CAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAAGC,KAAK,CAACC,OAAO,CAC5D,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CAClC,MAAO,CAAAF,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC,CACjD,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAC1BP,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}